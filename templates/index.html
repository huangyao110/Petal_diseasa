<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>玫瑰花瓣病害检测系统</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            padding-top: 2rem;
        }
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        .upload-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .features {
            margin-top: 3rem;
        }
        .feature-card {
            height: 100%;
            transition: transform 0.3s;
        }
        .feature-card:hover {
            transform: translateY(-5px);
        }
        .footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1rem 0;
            background-color: #f1f1f1;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="display-4">玫瑰花瓣病害检测系统</h1>
            <p class="lead">上传图片，自动检测花瓣病害区域并计算病害比例</p>
        </div>

        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="upload-container">
                    <h2 class="mb-4">上传图片</h2>
                    {% with messages = get_flashed_messages() %}
                        {% if messages %}
                            <div class="alert alert-danger">
                                <ul class="mb-0">
                                    {% for message in messages %}
                                        <li>{{ message }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        {% endif %}
                    {% endwith %}
                    <form action="/upload" method="post" enctype="multipart/form-data">
                        <div class="mb-3">
                            <label for="file" class="form-label">选择图片文件（支持JPG、PNG格式）</label>
                            <input type="file" class="form-control" id="file" name="file" accept=".jpg,.jpeg,.png" required>
                        </div>
                        <button type="submit" class="btn btn-primary">上传并分析</button>
                        <a href="/config" class="btn btn-outline-secondary ms-2">系统配置</a>
                    </form>
                </div>

                <div class="upload-container">
                    <h2 class="mb-4">批量处理</h2>
                    <p>需要处理多张图片？使用批量处理功能</p>
                    <a href="/batch" class="btn btn-outline-primary">进入批量处理</a>
                </div>
            </div>
        </div>

        <div class="row features">
            <h2 class="text-center mb-4">功能特点</h2>
            <div class="col-md-4 mb-4">
                <div class="card feature-card">
                    <div class="card-body">
                        <h5 class="card-title">花朵自动裁剪</h5>
                        <p class="card-text">系统能够自动识别图像中的花朵，并进行精确裁剪，提取单朵花进行分析。</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card feature-card">
                    <div class="card-body">
                        <h5 class="card-title">花瓣精确分割</h5>
                        <p class="card-text">采用先进的图像分割算法，精确识别花瓣区域，为病害检测提供基础。</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card feature-card">
                    <div class="card-body">
                        <h5 class="card-title">病害区域检测</h5>
                        <p class="card-text">自动识别花瓣上的病害区域，并计算病害面积占比，辅助评估花卉健康状况。</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>© 2025 玫瑰花瓣病害检测系统</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>